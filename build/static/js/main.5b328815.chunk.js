(this.webpackJsonptesseract=this.webpackJsonptesseract||[]).push([[0],{159:function(e,r,n){},170:function(e,r){},172:function(e,r){},183:function(e,r){},185:function(e,r){},210:function(e,r){},212:function(e,r){},213:function(e,r){},218:function(e,r){},220:function(e,r){},226:function(e,r){},228:function(e,r){},247:function(e,r){},259:function(e,r){},262:function(e,r){},266:function(e,r,n){"use strict";n.r(r);var t=n(0),i=n.n(t),a=(n(159),n(7)),c=n(275),s=n(151),o=n(3),u=n(282),l=n(281),d=n(278),f=n(154),j=n(276),b=n(279),h=n(277),g=n(55),p=n.n(g),m=n(280),x=n(2);var v=function(){return Object(x.jsxs)(m.a,{h2:!0,css:{textGradient:"45deg, rgba(146,34,195,1) 0%, rgba(162,38,35,1) 100%",textAlign:"center"},children:["Tesseract",Object(x.jsx)(m.a,{size:16,as:"span",css:{display:"block",letterSpacing:"$normal"},children:"Data over audio"})]})},O=n(94),y=n.n(O);var w=function(){var e=i.a.useRef(null),r=i.a.useRef(null),n=i.a.useRef(null),a=Object(t.useState)(!1),c=Object(o.a)(a,2),s=c[0],m=c[1],O=Object(t.useState)(null),w=Object(o.a)(O,2),$=w[0],S=w[1],D=new ArrayBuffer(0),E=new function(e,r){var n=setTimeout(e,r);this.stop=function(){return n&&(clearTimeout(n),n=null),this},this.start=function(){return n||(this.stop(),n=setTimeout(e,r)),this},this.reset=function(){return r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,this.stop().start()}}((function(){var t=Object(g.ab2str)(D);if(r.current.value){var i=new y.a(r.current.value);t=i.trimZeros(i.decrypt(i.base64Decode(t)))}D=new ArrayBuffer(0),e.current.value=t,n.current.value+="\n--\x3e ["+(new Date).toLocaleDateString("et-EE",{hour:"numeric",minute:"numeric",second:"numeric"})+"]: "+t}),1e3);return E.stop(),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(l.a,{y:1}),Object(x.jsx)(v,{}),Object(x.jsxs)(d.a.Container,{gap:2,children:[Object(x.jsxs)(d.a,{xs:12,lg:6,css:{flexDirection:"column"},children:[Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(x.jsx)(f.a,{label:"Secret passphrase",helperText:"Enter your secret passphrase used for encryption",ref:r,clearable:!0,rows:7,css:{width:"100%"}}),Object(x.jsx)(j.a,{auto:!0,color:"secondary",onPress:function(){return r.current.value=null},css:{marginTop:"$10",marginLeft:"auto"},children:"Clear"})]}),Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(x.jsx)(b.a,{disabled:s,label:"Message transmission",helperText:"Enter or receive message",ref:e,clearable:!0,rows:7,css:{width:"100%"}}),Object(x.jsx)(j.a,{auto:!0,color:"primary",disabled:s||$,onPress:function(){!function(e){if(!s&&!$&&0!==e.length){console.log(e);var t=e;if(r.current.value){var i=new y.a(r.current.value);t=i.base64Encode(i.encrypt(e))}console.log(t),m(!0),p.a.transmitter({profile:"audible",onFinish:function(){n.current.value+="\n<-- ["+(new Date).toLocaleDateString("et-EE",{hour:"numeric",minute:"numeric",second:"numeric"})+"]: "+e,m(!1)}}).transmit(Object(g.str2ab)(t))}}(e.current.value)},css:{marginTop:"$10",marginRight:"$8"},children:s?"Sending...":"Send"}),Object(x.jsx)(j.a,{auto:!0,color:$?"warning":"success",onPress:function(){!function(){if($)return $.destroy(),void S(null);if(!s){var e=p.a.receiver({profile:"audible",onReceive:function(e){D=Object(g.mergeab)(D,e),E.reset()},onReceiveFail:function(e){var r=new Date;n.current.value+="\n--\x3e ["+r.toLocaleDateString("et-EE",{hour:"numeric",minute:"numeric",second:"numeric"})+"]: Received frame checksum failed."}});S(e)}}()},css:{marginTop:"$10",marginRight:"$8"},children:$?"Stop listening":"Listen"}),Object(x.jsx)(j.a,{auto:!0,color:"secondary",onPress:function(){return e.current.value=null},css:{marginTop:"$10",marginLeft:"auto"},children:"Clear"})]})]}),Object(x.jsx)(d.a,{xs:12,lg:6,css:{flexWrap:"wrap",alignContent:"start"},children:Object(x.jsx)(h.a,{title:"Message log",divider:!1,css:{width:"100%"},children:Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{ref:n,minRows:7,maxRows:20,readOnly:!0,css:{width:"100%"}}),Object(x.jsx)(l.a,{y:1}),Object(x.jsx)("div",{style:{display:"flex"},children:Object(x.jsx)(j.a,{auto:!0,color:"secondary",onPress:function(){return n.current.value=null},css:{marginLeft:"auto"},children:"Clear"})})]})})})]}),Object(x.jsx)(l.a,{y:2})]})})},$=document.getElementById("root"),S=Object(a.a)({type:"dark",theme:{colors:{primaryLight:"$green200",primaryLightHover:"$green300",primaryLightActive:"$green400",primaryLightContrast:"$green600",primaryBorder:"$green500",primaryBorderHover:"$green600",primarySolidHover:"$green700",primarySolidContrast:"$white",primaryShadow:"$green500",gradient:"linear-gradient(112deg, $blue100 -25%, $pink500 -10%, $purple500 80%)",link:"#5E1DAD"}}});Object(s.createRoot)($).render(Object(x.jsx)(c.a,{theme:S,children:Object(x.jsx)(w,{})}))}},[[266,1,2]]]);
//# sourceMappingURL=main.5b328815.chunk.js.map